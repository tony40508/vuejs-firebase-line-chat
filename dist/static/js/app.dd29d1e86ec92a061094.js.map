{"version":3,"sources":["webpack:///static/js/app.dd29d1e86ec92a061094.js","webpack:///./src/App.vue?27c8","webpack:///src/components/ChatRoom.vue","webpack:///./src/assets/tools_file.png","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/ChatRoom.vue?f55e","webpack:///./src/router/index.js","webpack:///./src/components/ChatRoom.vue?81d2","webpack:///src/App.vue"],"names":["webpackJsonp","0tDL","module","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticRenderFns","esExports","Ds4J","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default","msgRef","firebase","database","ref","storageRef","storage","name","data","userNameSet","userName","userNumber","messages","upload","progress","watch","handler","val","oldVal","roomBody","document","querySelector","scrollTop","scrollHeight","deep","methods","setName","saveName","vm","value","trim","getTime","now","Date","hours","getHours","minutes","getMinutes","sendMessage","e","message","shiftKey","length","preventDefault","push","type","timeStamp","sendImage","file","target","files","fileName","Math","floor","metadata","contentType","progressBar","uploadTask","child","put","on","TaskEvent","STATE_CHANGED","snapshot","bytesTransferred","totalBytes","setAttribute","error","code","downloadURL","readMore","previousElementSibling","mounted","returnArr","forEach","childSnapshot","item","key","resultArr","a","updated","querySelectorAll","offsetHeight","KSPA","exports","M93x","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2446c92a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","normalizeComponent","__vue_styles__","Component","NHnr","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_2__router__","config","productionTip","el","router","template","components","App","RFZe","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ChatRoom_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_69b83f8b_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_ChatRoom_vue__","Y+Ws","YaEn","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_ChatRoom__","use","routes","path","component","oVVk","tKyQ","staticClass","_v","_s","click","$event","_m","src","draggable","_l","_e","directives","rawName","expression","class","disable","accept","change","keydown","_k","keyCode","maxlength","domProps","xJD8"],"mappings":"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","file":"static/js/app.dd29d1e86ec92a061094.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"0tDL\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"Ds4J\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__ = __webpack_require__(\"lHA8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__ = __webpack_require__(\"c/Tr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__);\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// msgRef = firebase中的資料表/messages/，若沒有的會自動建立\nvar msgRef = firebase.database().ref('/messages/');\nvar storageRef = firebase.storage().ref('/images/');\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  // 指定此頁使用的 name\n  name: 'ChatRoom',\n  // 資料位置，於html中可用{{}}渲染出來\n  data: function data() {\n    return {\n      userNameSet: false, // 姓名輸入框\n      userName: '', // 名稱\n      userNumber: 0,\n      messages: [], // 訊息內容\n      upload: false, // 上傳進度框\n      progress: '' // 上傳進度 % 數\n    };\n  },\n\n  watch: {\n    messages: {\n      handler: function handler(val, oldVal) {\n        var roomBody = document.querySelector('#js-roomBody');\n        roomBody.scrollTop = roomBody.scrollHeight;\n      },\n\n      deep: true\n    }\n  },\n  // 這個頁面的functions\n  methods: {\n    /** 彈出設定視窗 */\n    setName: function setName() {\n      var vm = this;\n      vm.userNameSet = true;\n    },\n\n    /** 儲存設定名稱 */\n    saveName: function saveName() {\n      // vue 的 method 中 this 是指 export 中這整塊的資料\n      var vm = this;\n      var userName = document.querySelector('#js-userName').value;\n      if (userName.trim() == '') {\n        return;\n      }\n      // 這裡的vm.userName(this.userName)就是data()裡面的userName\n      vm.userName = userName;\n      vm.userNameSet = false;\n    },\n\n    /** 取得時間 */\n    getTime: function getTime() {\n      var now = new Date();\n      var hours = now.getHours();\n      var minutes = now.getMinutes();\n      return (hours >= 12 ? \"下午\" : \"上午\") + ' ' + hours + ':' + (minutes < 10 ? '0' + minutes : minutes);\n    },\n\n    /** 傳送訊息 */\n    sendMessage: function sendMessage(e) {\n      var vm = this;\n      var userName = document.querySelector('#js-userName');\n      var message = document.querySelector('#js-message');\n      // 如果是按住 shift 則不傳送訊息(多行輸入)\n      if (e.shiftKey) {\n        return false;\n      }\n      // 如果輸入是空則不傳送訊息\n      if (message.value.length <= 1 && message.value.trim() == '') {\n        // 避免 enter 產生的空白換行\n        e.preventDefault();\n        return false;\n      }\n      // 對 firebase 的 db 做 push，db 只能接受 json 物件格式，若要用陣列要先轉字串來存\n      msgRef.push({\n        userName: userName.value,\n        type: 'text',\n        message: message.value,\n        // 取得時間，這裡的 vm.getTime() 就是method中的getTime\n        timeStamp: vm.getTime()\n      });\n      // 清空輸入欄位並避免 enter 產生的空白換行\n      message.value = '';\n      e.preventDefault();\n    },\n\n    /** 傳送圖片 */\n    sendImage: function sendImage(e) {\n      var vm = this;\n      var userName = document.querySelector('#js-userName');\n      // 取得上傳檔案的資料\n      var file = e.target.files[0];\n      var fileName = Math.floor(Date.now() / 1000) + ('_' + file.name);\n      var metadata = {\n        contentType: 'image/*'\n      };\n      // 取得HTML進度條元素\n      var progressBar = document.querySelector('#js-progressBar');\n      // 上傳資訊設定\n      var uploadTask = storageRef.child(fileName).put(file, metadata);\n      // 上傳狀態處理\n      uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\n      /* 上傳進度 */\n      function (snapshot) {\n        var progress = Math.floor(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n        if (progress < 100) {\n          // 開啟進度條\n          vm.upload = true;\n          vm.progress = progress + '%';\n          progressBar.setAttribute('style', 'width:' + progress + '%');\n        }\n      },\n      /* 錯誤處理 */\n      function (error) {\n        msgRef.child('bug/').push({\n          userName: userName.value,\n          type: 'image',\n          message: error.code,\n          timeStamp: vm.getTime()\n        });\n      },\n      /* 上傳結束處理 */\n      function () {\n        var downloadURL = uploadTask.snapshot.downloadURL;\n        msgRef.push({\n          userName: userName.value,\n          type: 'image',\n          message: downloadURL,\n          timeStamp: vm.getTime()\n        });\n        // 關閉進度條\n        vm.upload = false;\n      });\n    },\n\n    /** 顯示更多 */\n    readMore: function readMore(e) {\n      // 把內容高度限制取消\n      e.target.previousElementSibling.setAttribute('style', 'max-height: 100%;');\n      // 隱藏 \"顯示更多\" 按紐\n      e.target.setAttribute('style', 'display: none;');\n    }\n  },\n  // mounted 是 vue 的生命週期之一，代表模板已編譯完成，已經取值準備渲染元件了\n  mounted: function mounted() {\n    var vm = this;\n    msgRef.on('value', function (snapshot) {\n      var val = snapshot.val();\n      vm.messages = val;\n\n      // Convert A Firebase Database Snapshot To An Array\n      var returnArr = [];\n      snapshot.forEach(function (childSnapshot) {\n        var item = childSnapshot.val();\n        item.key = childSnapshot.key;\n        returnArr.push(item.userName);\n      });\n\n      // 取出陣列不重複值\n      var resultArr = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default.a(returnArr));\n      vm.userNumber = resultArr.length;\n    });\n  },\n\n  // update 是 vue的生命週期之一，在元件渲染完成後執行\n  updated: function updated() {\n    // 判斷內容高度超過 300 就隱藏起來，把 \"顯示更多\" 按紐打開\n    var messages = document.querySelectorAll('.messageBox__message');\n    messages.forEach(function (message) {\n      if (message.offsetHeight > 300) {\n        message.querySelector('.messageBox__readMore').setAttribute('style', 'display: block');\n      }\n    });\n    // 當畫面渲染完成，把聊天視窗滾到最底部(讀取最新消息)\n    var roomBody = document.querySelector('#js-roomBody');\n    roomBody.scrollTop = roomBody.scrollHeight;\n  }\n});\n\n/***/ }),\n\n/***/ \"KSPA\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/png;base64,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\"\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"xJD8\");\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2446c92a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"0tDL\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"oVVk\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2446c92a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(\"M93x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(\"YaEn\");\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App__[\"a\" /* default */] }\n});\n\n/***/ }),\n\n/***/ \"RFZe\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ChatRoom_vue__ = __webpack_require__(\"Ds4J\");\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_69b83f8b_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_ChatRoom_vue__ = __webpack_require__(\"tKyQ\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"Y+Ws\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-69b83f8b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ChatRoom_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_69b83f8b_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_ChatRoom_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"Y+Ws\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"YaEn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(\"/ocq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_ChatRoom__ = __webpack_require__(\"RFZe\");\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'ChatRoom',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_ChatRoom__[\"a\" /* default */]\n  }]\n}));\n\n/***/ }),\n\n/***/ \"oVVk\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"tKyQ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"name\"},[_c('h3',[_vm._v(\"Name：\"+_vm._s(_vm.userName))]),_c('div',{staticClass:\"reset\",on:{\"click\":function($event){_vm.setName()}}},[_vm._v(\"Reset Name\")])]),_c('div',{staticClass:\"chatRoom\"},[_c('div',{staticClass:\"roomHead\"},[_vm._m(0),_c('img',{staticClass:\"roomHead__img\",attrs:{\"src\":\"https://lorempixel.com/50/50\",\"draggable\":\"false\"}}),_c('div',{staticClass:\"roomHead__title\"},[_vm._v(\"NCKU IM\")]),_c('img',{staticClass:\"roomHead__img_users\",attrs:{\"src\":\"/static/users-icon.svg\"}}),_c('div',{staticClass:\"users-text\"},[_vm._v(_vm._s(_vm.userNumber))])]),_c('div',{staticClass:\"roomBody\",attrs:{\"id\":\"js-roomBody\"}},[_vm._l((_vm.messages),function(item){return [(item.userName != _vm.userName)?[_c('div',{staticClass:\"messageBox\"},[_c('img',{staticClass:\"messageBox__user\",attrs:{\"src\":\"https://lorempixel.com/40/40/\",\"draggable\":\"false\"}}),_c('div',{staticClass:\"messageBox__content\"},[_c('div',{staticClass:\"messageBox__name\"},[_vm._v(_vm._s(item.userName))]),(item.type == 'text')?_c('div',{staticClass:\"messageBox__message\"},[_c('div',{staticClass:\"messageBox__text\"},[_vm._v(_vm._s(item.message))]),_c('div',{staticClass:\"messageBox__readMore\",on:{\"click\":function($event){_vm.readMore($event)}}},[_vm._v(\"顯示更多\")])]):_vm._e(),(item.type == 'image')?_c('div',{staticClass:\"messageBox__image\"},[_c('img',{attrs:{\"src\":item.message}})]):_vm._e()]),_c('div',{staticClass:\"messageBox__time\"},[_vm._v(_vm._s(item.timeStamp))])])]:_vm._e(),_vm._v(\" \"),(item.userName == _vm.userName)?[_c('div',{staticClass:\"messageBox messageBox--self\"},[_c('div',{staticClass:\"messageBox__time\"},[_vm._v(_vm._s(item.timeStamp))]),_c('div',{staticClass:\"messageBox__content\"},[(item.type == 'text')?_c('div',{staticClass:\"messageBox__message\"},[_c('div',{staticClass:\"messageBox__text\"},[_vm._v(_vm._s(item.message))])]):_vm._e(),(item.type == 'image')?_c('div',{staticClass:\"messageBox__image\"},[_c('img',{attrs:{\"src\":item.message}})]):_vm._e()])])]:_vm._e()]}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.upload),expression:\"upload\"}],staticClass:\"messageBox messageBox--self\"},[_c('div',{staticClass:\"messageBox__progress\"},[_c('div',{staticClass:\"messageBox__progress--state\",attrs:{\"id\":\"js-progressBar\"}}),_c('div',{staticClass:\"messageBox__progress--number\"},[_vm._v(_vm._s(_vm.progress))])])])],2),_c('div',{staticClass:\"roomBottom\",class:{ disable: !_vm.userName }},[_c('div',{staticClass:\"roomBottom__tools\"},[_c('div',{staticClass:\"roomBottom__tools_upload\"},[_c('input',{attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":function($event){_vm.sendImage($event)}}}),_c('img',{attrs:{\"src\":__webpack_require__(\"KSPA\")}})])]),_c('div',{staticClass:\"roomBottom__input\"},[_c('textarea',{staticClass:\"roomBottom__input__textarea\",class:{ disable: !_vm.userName },attrs:{\"id\":\"js-message\"},on:{\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.sendMessage($event)}}})])])]),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userNameSet || _vm.userName == ''),expression:\"userNameSet || userName == ''\"}],staticClass:\"modal\"},[_c('div',{staticClass:\"modal__container\"},[_c('header',{staticClass:\"modal__header\"},[_c('h2',{staticClass:\"view-title\"},[_vm._v(\"Your Name\")])]),_c('div',{staticClass:\"modal__body\"},[_c('input',{staticClass:\"userName\",attrs:{\"id\":\"js-userName\",\"type\":\"text\",\"maxlength\":\"6\"},domProps:{\"value\":_vm.userName},on:{\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.saveName()}}}),_c('div',{staticClass:\"button\",on:{\"click\":function($event){_vm.saveName()}}},[_vm._v(\"OK\")])]),_c('footer',{staticClass:\"modal__footer\"})])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"roomHead__topButtons\"},[_c('div',{staticClass:\"roomHead__button close\"}),_c('div',{staticClass:\"roomHead__button minimize\"}),_c('div',{staticClass:\"roomHead__button zoom\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"xJD8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app'\n});\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.dd29d1e86ec92a061094.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-2446c92a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 0tDL\n// module chunks = 1","<template lang=\"pug\">\n  .container\n    //- nameArea\n    .name\n      h3 Name：{{ userName }}\n      .reset(@click=\"setName()\") Reset Name\n    //- chatRoom\n    .chatRoom\n      //- head\n      .roomHead\n        .roomHead__topButtons\n          .roomHead__button.close\n          .roomHead__button.minimize\n          .roomHead__button.zoom\n        img.roomHead__img(src=\"https://lorempixel.com/50/50\" draggable=\"false\")\n        .roomHead__title NCKU IM\n        img.roomHead__img_users(src=\"/static/users-icon.svg\")\n        .users-text {{userNumber}}\n\n      //- roomBody\n      #js-roomBody.roomBody\n        //- 使用 template 來當迴圈容器，或是判斷用的容器，當條件達成時產出 template 內容\n        <template v-for=\"item in messages\">\n          //- other people\n          <template v-if=\"item.userName != userName\">\n            .messageBox\n              img.messageBox__user(src=\"https://lorempixel.com/40/40/\" draggable=\"false\")\n              .messageBox__content\n                .messageBox__name {{item.userName}}\n                .messageBox__message(v-if=\"item.type == 'text'\")\n                  .messageBox__text {{item.message}}\n                  .messageBox__readMore(@click=\"readMore($event)\") 顯示更多\n                .messageBox__image(v-if=\"item.type == 'image'\")\n                  img(:src=\"item.message\")\n              .messageBox__time {{item.timeStamp}}\n          </template>\n          //- self\n          <template v-if=\"item.userName == userName\">\n            .messageBox.messageBox--self\n              .messageBox__time {{item.timeStamp}}\n              .messageBox__content\n                .messageBox__message(v-if=\"item.type == 'text'\")\n                  .messageBox__text {{item.message}}\n                .messageBox__image(v-if=\"item.type == 'image'\")\n                  img(:src=\"item.message\")\n          </template>\n        </template>\n        //- progressBar\n        .messageBox.messageBox--self(v-show=\"upload\")\n          .messageBox__progress\n            #js-progressBar.messageBox__progress--state\n            .messageBox__progress--number {{progress}}\n      //- bottom\n      .roomBottom(:class=\"{ disable: !userName }\")\n        .roomBottom__tools\n          .roomBottom__tools_upload\n            input(type=\"file\" accept=\"image/*\" @change=\"sendImage($event)\")\n            img(src=\"@/assets/tools_file.png\")\n        .roomBottom__input\n          //- 若要再帶入原生 js 的 event(e) 到 function 中，必須使用 $event 當參數傳入\n          textarea#js-message.roomBottom__input__textarea(:class=\"{ disable: !userName }\" @keydown.enter=\"sendMessage($event)\")\n\n    //- modal\n    <transition name=\"fade\">\n      .modal(v-show=\"userNameSet || userName == ''\")\n        .modal__container\n          header.modal__header\n            h2.view-title Your Name\n          .modal__body\n            //- 使用 @keydown.enter 來偵測 keydown enter，觸發時執行 saveName()\n            input#js-userName.userName(type=\"text\" maxlength=\"6\" @keydown.enter=\"saveName()\" :value=\"userName\")\n            .button(@click=\"saveName()\") OK\n          footer.modal__footer\n    </transition>\n</template>\n\n<script>\n// msgRef = firebase中的資料表/messages/，若沒有的會自動建立\nconst msgRef = firebase.database().ref('/messages/');\nconst storageRef = firebase.storage().ref('/images/');\nexport default {\n  // 指定此頁使用的 name\n  name: 'ChatRoom',\n  // 資料位置，於html中可用{{}}渲染出來\n  data() {\n    return {\n      userNameSet: false, // 姓名輸入框\n      userName: '', // 名稱\n      userNumber: 0,\n      messages: [], // 訊息內容\n      upload: false, // 上傳進度框\n      progress: '' // 上傳進度 % 數\n    }\n  },\n  watch: {\n    messages: {\n      handler(val, oldVal) {\n        const roomBody = document.querySelector('#js-roomBody');\n        roomBody.scrollTop = roomBody.scrollHeight;\n      },\n      deep: true\n    }\n  },\n  // 這個頁面的functions\n  methods: {\n    /** 彈出設定視窗 */\n    setName() {\n      const vm = this;\n      vm.userNameSet = true;\n    },\n    /** 儲存設定名稱 */\n    saveName() {\n      // vue 的 method 中 this 是指 export 中這整塊的資料\n      const vm = this;\n      const userName = document.querySelector('#js-userName').value;\n      if (userName.trim() == '') { return; }\n      // 這裡的vm.userName(this.userName)就是data()裡面的userName\n      vm.userName = userName;\n      vm.userNameSet = false;\n    },\n    /** 取得時間 */\n    getTime() {\n      const now = new Date();\n      const hours = now.getHours();\n      const minutes = now.getMinutes();\n      return `${(hours >= 12) ? \"下午\" : \"上午\"} ${hours}:${(minutes < 10) ? '0' + minutes : minutes}`;\n    },\n    /** 傳送訊息 */\n    sendMessage(e) {\n      const vm = this;\n      const userName = document.querySelector('#js-userName');\n      let message = document.querySelector('#js-message');\n      // 如果是按住 shift 則不傳送訊息(多行輸入)\n      if (e.shiftKey) {\n        return false;\n      }\n      // 如果輸入是空則不傳送訊息\n      if (message.value.length <= 1 && message.value.trim() == '') {\n        // 避免 enter 產生的空白換行\n        e.preventDefault();\n        return false;\n      }\n      // 對 firebase 的 db 做 push，db 只能接受 json 物件格式，若要用陣列要先轉字串來存\n      msgRef.push({\n        userName: userName.value,\n        type: 'text',\n        message: message.value,\n        // 取得時間，這裡的 vm.getTime() 就是method中的getTime\n        timeStamp: vm.getTime()\n      })\n      // 清空輸入欄位並避免 enter 產生的空白換行\n      message.value = '';\n      e.preventDefault();\n    },\n    /** 傳送圖片 */\n    sendImage(e) {\n  \t\tconst vm = this;\n      const userName = document.querySelector('#js-userName');\n      // 取得上傳檔案的資料\n      const file = e.target.files[0];\n      const fileName = Math.floor(Date.now() / 1000) + `_${file.name}`;\n      const metadata = {\n        contentType: 'image/*'\n      };\n      // 取得HTML進度條元素\n      let progressBar = document.querySelector('#js-progressBar');\n      // 上傳資訊設定\n      const uploadTask = storageRef.child(fileName).put(file, metadata);\n      // 上傳狀態處理\n      uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\n        /* 上傳進度 */\n        function(snapshot) {\n          let progress = Math.floor((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n          if (progress < 100) {\n            // 開啟進度條\n            vm.upload = true;\n            vm.progress = `${progress}%`;\n            progressBar.setAttribute('style', `width:${progress}%`);\n          }\n        },\n        /* 錯誤處理 */\n        function(error) {\n          msgRef.child('bug/').push({\n            userName: userName.value,\n            type: 'image',\n            message: error.code,\n            timeStamp: vm.getTime()\n          })\n        },\n        /* 上傳結束處理 */\n        function() {\n          var downloadURL = uploadTask.snapshot.downloadURL;\n          msgRef.push({\n            userName: userName.value,\n            type: 'image',\n            message: downloadURL,\n            timeStamp: vm.getTime()\n          })\n          // 關閉進度條\n          vm.upload = false;\n        });\n    },\n    /** 顯示更多 */\n    readMore(e) {\n      // 把內容高度限制取消\n      e.target.previousElementSibling.setAttribute('style', 'max-height: 100%;')\n      // 隱藏 \"顯示更多\" 按紐\n      e.target.setAttribute('style', 'display: none;');\n    }\n  },\n  // mounted 是 vue 的生命週期之一，代表模板已編譯完成，已經取值準備渲染元件了\n  mounted() {\n    const vm = this;\n    msgRef.on('value', function(snapshot) {\n      const val = snapshot.val();\n      vm.messages = val;\n\n      // Convert A Firebase Database Snapshot To An Array\n      let returnArr = [];\n      snapshot.forEach(childSnapshot => {\n          let item = childSnapshot.val();\n          item.key = childSnapshot.key;\n          returnArr.push(item.userName);\n      });\n\n      // 取出陣列不重複值\n      let resultArr = Array.from(new Set(returnArr));\n      vm.userNumber = resultArr.length;\n    })\n  },\n  // update 是 vue的生命週期之一，在元件渲染完成後執行\n  updated() {\n    // 判斷內容高度超過 300 就隱藏起來，把 \"顯示更多\" 按紐打開\n    const messages = document.querySelectorAll('.messageBox__message');\n    messages.forEach((message) => {\n      if (message.offsetHeight > 300) {\n        message.querySelector('.messageBox__readMore').setAttribute('style', 'display: block');\n      }\n    })\n    // 當畫面渲染完成，把聊天視窗滾到最底部(讀取最新消息)\n    const roomBody = document.querySelector('#js-roomBody');\n    roomBody.scrollTop = roomBody.scrollHeight;\n  }\n}\n</script>\n\n<style scoped>\n* {\n  font-family: '微軟正黑體', sans-serif;\n  letter-spacing: 1.5px;\n  margin: auto;\n}\n.container {\n  padding: 0px;\n}\n.name {\n  text-align: center;\n  margin: -10px 0px 10px 0px;\n}\n.name h3{\n  text-align: center;\n  color: #333333;\n  display: inline;\n  margin-right: 30px;\n}\n.reset {\n  margin-top: 10px;\n  padding: 5px 10px;\n  border-radius: 10px;\n  font-weight: 600;\n  color: #333333;\n  background-color: #CCCCCC;\n  display: inline-block;\n  cursor: pointer;\n}\n.chatRoom {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  border-radius: 5px;\n  min-width: 500px;\n  max-width: 500px;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n}\n\n/* Head */\n.roomHead {\n  width: 100%;\n  height: 85px;\n  border-radius: 5px 5px 0px 0px;\n  background-color: #2B364B;\n  position: relative;\n}\n.roomHead__topButtons {\n  padding: 2px 0px 5px 8px;\n  text-align: left;\n}\n.roomHead__button {\n  height: 12px;\n  width: 12px;\n  border-radius: 50%;\n  margin: 0px 3px;\n  display: inline-block;\n  cursor: pointer;\n}\n.close {\n  background-color: #FF625A;\n}\n.minimize {\n  background-color: #FFC02F;\n}\n.zoom {\n  background-color: #28CB40;\n}\n.roomHead__img {\n  width: 50px;\n  height: 50px;\n  margin: 0px 10px 10px 12px;\n  border-radius: 50%;\n  position: absolute;\n  cursor: pointer;\n}\n.roomHead__title {\n  font-size: 16px;\n  font-weight: 600;\n  color: #FFFFFF;\n  height: 80px;\n  margin: 0px 0px 0px 80px;\n  position: absolute;\n  cursor: pointer;\n}\n\n.roomHead__img_users {\n  position: absolute;\n  top: 52px;\n  left: 75px;\n  width: 25px;\n  height: 25px;\n  opacity: 0.4;\n}\n\n.users-text {\n  color: white;\n  font-size: 16px;\n  position: absolute;\n  top: 54px;\n  left: 105px;\n  opacity: 0.4;\n}\n\n/* Body */\n.roomBody {\n  padding: 10px 0px;\n  background-color: #fff;\n  height: 60vh;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n.messageBox {\n  padding: 5px 10px;\n  position: relative;\n}\n.messageBox__user {\n  height: 40px;\n  width: 40px;\n  border-radius: 50%;\n  vertical-align: top;\n  display: inline-block;\n  cursor: pointer;\n}\n.messageBox__content {\n  max-width: 70%;\n  display: inline-block;\n}\n.messageBox__name {\n  margin: 5px 0px 5px 5px;\n  font-size: 13px;\n  color: #727C8A;\n  vertical-align: top;\n  cursor: pointer;\n}\n.messageBox__message {\n  margin: 5px 0px 5px 5px;\n  font-size: 12px;\n  color: #35393D;\n  letter-spacing: 0.6px;\n  background-color: #E3E8EB;\n  border-radius: 12px;\n  line-height: 1.5;\n  text-align: left;\n  word-break: break-all;\n  /*：與html的<pre></pre>同效果，可以使textarea的換行元素正常顯示 */\n  white-space: pre-line;\n}\n.messageBox__text {\n  padding: 8px 10px 9px 11px;\n  max-height: 300px;\n  overflow: hidden;\n}\n.messageBox__readMore {\n  border-top: 1px solid #D9DBDD;\n  margin-top: 6px;\n  padding: 6px 13px 10px 13px;\n  left: 0;\n  right: 0;\n  cursor: pointer;\n  display: none;\n}\n.messageBox__image {\n  margin: 5px 25px 5px 5px;\n}\n.messageBox__image img {\n  border-radius: 5px;\n  max-width: 100%;\n  max-height: 335px;\n}\n.messageBox__time {\n  transform: scale(0.7);\n  color: #ACB0B8;\n  vertical-align: bottom;\n  margin: 0px 0px 5px -12px;\n  display: inline-block;\n}\n.messageBox__progress {\n  width: 25%;\n  margin-right: 60px;\n  border-radius: 5px;\n  background-color: #D4D9E1;\n  height: 6px;\n}\n.messageBox__progress--state {\n  background-color: #00CE00;\n  height: 6px;\n  width: 10%;\n  border-radius: 5px;\n  float: right;\n}\n.messageBox__progress--number {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 12px;\n  color: #B7B7B7;\n  margin-right: 35px;\n}\n.messageBox--self {\n  text-align: right;\n}\n.messageBox--self .messageBox__message {\n  background-color: #AFF47E;\n  margin-right: 25px;\n}\n.messageBox--self .messageBox__message__text {\n  padding: 8px 10px 9px 11px;\n  max-height: 100%;\n  overflow: unset;\n}\n.messageBox--self .messageBox__time {\n  margin: 0px -16px 5px 0px;\n}\n\n/* Bottom */\n.roomBottom {\n  bottom: 0px;\n  border-radius: 0px 0px 5px 5px;\n  background-color: #FFFFFF;\n}\n.roomBottom__tools {\n  border-top: solid 1px #E7E7E7;\n  border-bottom: solid 2px #E7E7E7;\n  background-color: #F6F6F6;\n  height: 30px;\n  padding: 0px 5px;\n}\n.roomBottom__tools_upload {\n  height: 20px;\n  margin: 5px;\n  padding: 1px;\n  display: inline-block;\n  position: relative;\n  overflow: hidden;\n  transition: all 0.3s;\n}\n.roomBottom__tools_upload:hover {\n  background-color: #e3e8eb;\n}\n.roomBottom__tools_upload input {\n  width: 100%;\n  height: 100%;\n  left: 0;\n  right: 0;\n  opacity: 0;\n  position: absolute;\n  cursor: pointer;\n  /* 讓input file可以支援pointer要加pl100% */\n  padding-left: 100%;\n}\n.roomBottom__tools_upload img {\n  height: 100%;\n}\n.roomBottom__input {\n  padding: 10px 10px 5px 10px;\n}\n.roomBottom__input__textarea {\n  width: 100%;\n  height: 60px;\n  border: none;\n  resize: none;\n  outline: none;\n}\n\n/* status */\n.disable {\n  pointer-events: none;\n  background-color: #ebebeb;\n}\n\n/* modal */\n.modal {\n  z-index: 3;\n  padding: 50px 0px;\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background-color: rgba(0, 0, 0, 0.4);\n  animation: opac 0.8s;\n  letter-spacing: 2px;\n  text-align: unset;\n}\n.modal__container {\n  margin: auto;\n  position: relative;\n  padding: 10px;\n  outline: 0;\n  max-width: 300px;\n}\n.modal__header {\n  color: #fff;\n  background-color: #2B364B;\n  padding: 10px;\n  text-align: center;\n  border-radius: 5px 5px 0px 0px;\n}\n.modal__body {\n  background-color: #fff;\n  padding: 20px 50px;\n  text-align: center;\n}\n.modal__body p {\n  text-align: left;\n  line-height: 24px;\n}\n\n.modal__body input {\n  outline: 0;\n  box-shadow: 0 0 0px 1000px #fefefe inset;\n  /* Remove the yellow background on input autofill */\n}\n.modal__body input:focus{\n  border: solid 1px #2B364B;\n}\n\n.modal__body .userName{\n  background-color: #fefefe;\n}\n\n.modal__img {\n  max-width: 100%;\n}\n.modal__footer {\n  color: #fff;\n  background-color: #2B364B;\n  height: 8px;\n  border-radius: 0px 0px 5px 5px;\n}\n/* transition */\n.fade-enter-active, .fade-leave-active {\n  transition: opacity 0.6s\n}\n.fade-enter, .fade-leave-to  {\n  opacity: 0\n}\n\n/* name set */\n.userName {\n  height: 30px;\n  font-size: 16px;\n  margin-bottom: 10px;\n  border: solid 1px #cbcbcb;\n  width: 70%;\n  text-align: center;\n  display: inline-block;\n}\n.button {\n  font-size: 14px;\n  color: #FFFFFF;\n  background-color: #2B364B;\n  padding: 10px 20px;\n  display: inline-block;\n  cursor: pointer;\n}\n\n/* media */\n@media screen and (max-width: 425px) {\n  .messageBox__content {\n    max-width: 60%;\n  }\n}\n\n@media screen and (max-width: 385px) {\n  .messageBox__content {\n    max-width: 50%;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ChatRoom.vue","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/tools_file.png\n// module id = KSPA\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2446c92a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2446c92a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-69b83f8b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChatRoom.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatRoom.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatRoom.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-69b83f8b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChatRoom.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-69b83f8b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ChatRoom.vue\n// module id = RFZe\n// module chunks = 1","import Vue from 'vue'\nimport Router from 'vue-router'\nimport ChatRoom from '@/components/ChatRoom'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'ChatRoom',\n      component: ChatRoom\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"name\"},[_c('h3',[_vm._v(\"Name：\"+_vm._s(_vm.userName))]),_c('div',{staticClass:\"reset\",on:{\"click\":function($event){_vm.setName()}}},[_vm._v(\"Reset Name\")])]),_c('div',{staticClass:\"chatRoom\"},[_c('div',{staticClass:\"roomHead\"},[_vm._m(0),_c('img',{staticClass:\"roomHead__img\",attrs:{\"src\":\"https://lorempixel.com/50/50\",\"draggable\":\"false\"}}),_c('div',{staticClass:\"roomHead__title\"},[_vm._v(\"NCKU IM\")]),_c('img',{staticClass:\"roomHead__img_users\",attrs:{\"src\":\"/static/users-icon.svg\"}}),_c('div',{staticClass:\"users-text\"},[_vm._v(_vm._s(_vm.userNumber))])]),_c('div',{staticClass:\"roomBody\",attrs:{\"id\":\"js-roomBody\"}},[_vm._l((_vm.messages),function(item){return [(item.userName != _vm.userName)?[_c('div',{staticClass:\"messageBox\"},[_c('img',{staticClass:\"messageBox__user\",attrs:{\"src\":\"https://lorempixel.com/40/40/\",\"draggable\":\"false\"}}),_c('div',{staticClass:\"messageBox__content\"},[_c('div',{staticClass:\"messageBox__name\"},[_vm._v(_vm._s(item.userName))]),(item.type == 'text')?_c('div',{staticClass:\"messageBox__message\"},[_c('div',{staticClass:\"messageBox__text\"},[_vm._v(_vm._s(item.message))]),_c('div',{staticClass:\"messageBox__readMore\",on:{\"click\":function($event){_vm.readMore($event)}}},[_vm._v(\"顯示更多\")])]):_vm._e(),(item.type == 'image')?_c('div',{staticClass:\"messageBox__image\"},[_c('img',{attrs:{\"src\":item.message}})]):_vm._e()]),_c('div',{staticClass:\"messageBox__time\"},[_vm._v(_vm._s(item.timeStamp))])])]:_vm._e(),_vm._v(\" \"),(item.userName == _vm.userName)?[_c('div',{staticClass:\"messageBox messageBox--self\"},[_c('div',{staticClass:\"messageBox__time\"},[_vm._v(_vm._s(item.timeStamp))]),_c('div',{staticClass:\"messageBox__content\"},[(item.type == 'text')?_c('div',{staticClass:\"messageBox__message\"},[_c('div',{staticClass:\"messageBox__text\"},[_vm._v(_vm._s(item.message))])]):_vm._e(),(item.type == 'image')?_c('div',{staticClass:\"messageBox__image\"},[_c('img',{attrs:{\"src\":item.message}})]):_vm._e()])])]:_vm._e()]}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.upload),expression:\"upload\"}],staticClass:\"messageBox messageBox--self\"},[_c('div',{staticClass:\"messageBox__progress\"},[_c('div',{staticClass:\"messageBox__progress--state\",attrs:{\"id\":\"js-progressBar\"}}),_c('div',{staticClass:\"messageBox__progress--number\"},[_vm._v(_vm._s(_vm.progress))])])])],2),_c('div',{staticClass:\"roomBottom\",class:{ disable: !_vm.userName }},[_c('div',{staticClass:\"roomBottom__tools\"},[_c('div',{staticClass:\"roomBottom__tools_upload\"},[_c('input',{attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":function($event){_vm.sendImage($event)}}}),_c('img',{attrs:{\"src\":require(\"@/assets/tools_file.png\")}})])]),_c('div',{staticClass:\"roomBottom__input\"},[_c('textarea',{staticClass:\"roomBottom__input__textarea\",class:{ disable: !_vm.userName },attrs:{\"id\":\"js-message\"},on:{\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.sendMessage($event)}}})])])]),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userNameSet || _vm.userName == ''),expression:\"userNameSet || userName == ''\"}],staticClass:\"modal\"},[_c('div',{staticClass:\"modal__container\"},[_c('header',{staticClass:\"modal__header\"},[_c('h2',{staticClass:\"view-title\"},[_vm._v(\"Your Name\")])]),_c('div',{staticClass:\"modal__body\"},[_c('input',{staticClass:\"userName\",attrs:{\"id\":\"js-userName\",\"type\":\"text\",\"maxlength\":\"6\"},domProps:{\"value\":_vm.userName},on:{\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.saveName()}}}),_c('div',{staticClass:\"button\",on:{\"click\":function($event){_vm.saveName()}}},[_vm._v(\"OK\")])]),_c('footer',{staticClass:\"modal__footer\"})])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"roomHead__topButtons\"},[_c('div',{staticClass:\"roomHead__button close\"}),_c('div',{staticClass:\"roomHead__button minimize\"}),_c('div',{staticClass:\"roomHead__button zoom\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-69b83f8b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./~/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ChatRoom.vue\n// module id = tKyQ\n// module chunks = 1","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue"],"sourceRoot":""}